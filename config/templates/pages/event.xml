<?xml version="1.0"?>
<template xmlns="http://schemas.sulu.io/template/template" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude" xsi:schemaLocation="http://schemas.sulu.io/template/template http://schemas.sulu.io/template/template-1.0.xsd">

    <key>event</key>

    <view>pages/event</view>
    <controller>App\Controller\Website\CustomController::indexAction</controller>

    <cacheLifetime>604800</cacheLifetime>

    <meta>
        <title lang="en">Event</title>
        <title lang="de">Event</title>
    </meta>


    <properties>


        <property name="title" type="text_line" mandatory="true">
            <meta>
                <title >Titel</title>
            </meta>
            <params>
                <param name="headline" value="true" />
            </params>

            <tag name="sulu.rlp.part" />
        </property>

        <property name="subtitle" type="text_line">
            <meta>
                <title >Subtitel</title>
            </meta>

            <tag name="sulu.rlp.part" />
        </property>

        <property name="url" type="resource_locator" mandatory="true">
            <meta>
                <title lang="en">Resourcelocator</title>
                <title lang="de">Adresse</title>
            </meta>

            <tag name="sulu.rlp" />
        </property>

        <property name="event_type" type="category_selection" colspan="6" multilingual="false">
            <meta>
                <title >Event Type</title>
            </meta>
        
            <params>
                <param name="max" value="1"/>
                <param name="request_parameters" type="collection">
                    <param name="rootKey" value="event_types"/>
                </param>
            </params>
        </property>

        <property name="target_groups" type="category_selection" colspan="6" multilingual="false">
            <meta>
                <title>Targetgroups</title>
            </meta>
            <params>
                <param name="request_parameters" type="collection">
                    <param name="rootKey" value="event_targetgroups"/>
                </param>
            </params>
        </property>

        <property name="image" type="single_media_selection"  multilingual="false">
            <meta>
                <title>Image</title>
            </meta>
            <params>
                <param name="types" value="image" />
                <param name="image_size" value="800x400" />
            </params>
        </property>

        <property name="eventKey" type="text_line"  multilingual="false" colspan="6">
            <meta>
                <title>pretix- eventKey</title>
                <info_text>nur A-Z, 0-9 und - erlaubt</info_text>
            </meta>
            <params>
                <param name="pattern" value="^[A-Z0-9-]*$"/>
            </params>
        </property>

        <property name="productNr" type="number"  multilingual="false" colspan="6">
            <meta>
                <title>pretix - produktNummer (optional)</title>
            </meta>
          
        </property>


        <property name="visible" type="checkbox" multilingual="false" colspan="6">
            <params>
                <param name="label">
                    <meta>
                        <title>Veranstaltung ist sichtbar</title>
                    </meta>
                </param>
                <param name="type" value="toggler" />
            </params>
        </property>
        
        <property name="text" type="text_area">
            <meta>
                <title>Kurztext</title>
            </meta>
        </property>

        
        <property name="infotext" type="text_editor">
            <meta>
                <title>Infotext</title>
            </meta>
            <tag name="sulu.search.field"/>
        </property>

        <property name="priceStr" type="text_line"  colspan="6">
            <meta>
                <title>Preis-Info</title>
                <info_text>freier text</info_text>
            </meta>
           
        </property>

        <section name="content">
            <meta>
                <title>Inhalte</title>
            </meta>
            <properties>
                <xi:include href="blocks/toplevel_blocklist.xml" xpointer="xmlns(sulu=http://schemas.sulu.io/template/template)
                  xpointer(/sulu:template/sulu:properties/sulu:block[@name='blocks'])" />
            </properties>
        </section>


        <section name="termine">
            <meta>
                <title>Termine</title>
            </meta>
            <properties>               
                    <property name="custom1" type="mavu_svelte_field" >
    
                        <params>
                            <param name="svelteModulePath" value="/be_assets/eventinfo" />
                        </params>
                    </property>
            </properties>
        </section>

    </properties>
</template>
